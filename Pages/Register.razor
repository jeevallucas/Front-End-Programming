@page "/register"
@using Model
@using System.ComponentModel.DataAnnotations

<style>
    /* CSS untuk mempercantik tampilan form */
    .form {
        max-width: 400px;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f5f5f5;
    }

    .form h1 {
        text-align: center;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        font-weight: bold;
    }

    .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .form-group select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .btn-primary {
        background-color: #007bff;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    /* CSS untuk tautan Register */
    .register-link {
        text-align: center;
        margin-top: 10px;
    }
</style>

<PageTitle>Register</PageTitle>

<h1>Register</h1>

<div class="register-link">
    <p>Sudah memiliki akun? <a href="/">Login</a></p>
</div>

<EditForm Model="@registerModel" OnValidSubmit="RegisterUser">
    <DataAnnotationsValidator />
    <div class="form">
        <div class="form-group">
            <label for="username">Username</label>
            <input id="username" type="text" @bind="@registerModel.Username" />
            <ValidationMessage For="@(() => registerModel.Username)" />
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input id="password" type="password" @bind="@registerModel.Password" />
            <ValidationMessage For="@(() => registerModel.Password)" />
        </div>

        <div class="form-group">
            <label for="name">Nama</label>
            <input id="name" type="text" @bind="@registerModel.Name" />
            <ValidationMessage For="@(() => registerModel.Name)" />
        </div>

        <div class="form-group">
            <label for="address">Alamat</label>
            <input id="address" type="text" @bind="@registerModel.Address" />
            <ValidationMessage For="@(() => registerModel.Address)" />
        </div>

        <div class="form-group">
            <label for="phone">Nomor Telepon</label>
            <input id="phone" type="text" @bind="@registerModel.Phone" />
            <ValidationMessage For="@(() => registerModel.Phone)" />
        </div>

        <div class="form-group">
            <label for="role">Pilih Peran</label>
            <select id="role" @bind="@registerModel.Role">
                <option value="Pengguna Rumah">Pengguna Rumah</option>
                <option value="Pengambil Sampah">Pengambil Sampah</option>
                <option value="Bank Sampah">Bank Sampah</option>
            </select>
            <ValidationMessage For="@(() => registerModel.Role)" />
        </div>

        <button class="btn btn-primary" type="submit">Register</button>
    </div>
</EditForm>

@code {
    private Model.RegisterModel registerModel = new RegisterModel
        {
            Username = "",
            Name = "",
            Address = "",
            Phone = "",
            Role = ""
        };

    private void RegisterUser()
    {
        // Logika registrasi
        Console.WriteLine("Registration successful!");
        Console.WriteLine($"Username: {registerModel.Username}");
        Console.WriteLine($"Name: {registerModel.Name}");
        Console.WriteLine($"Address: {registerModel.Address}");
        Console.WriteLine($"Phone: {registerModel.Phone}");
        Console.WriteLine($"Role: {registerModel.Role}");
    }
}
